<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jsx和vdom</title>
    <style>
        div{
            font-family: '楷体';
        }
    </style>
</head>
<body>
<div>
    <h3> JSX 和 vdom 的关系</h3>
    <div><h4>分析：为何需要 vdom</h4>
        <ol>
            <li>  vdom 是 React 初次推广开来的，结合 JSX</li>
            <li>  JSX 就是模板，最终要渲染成 html</li>
            <li>  初次渲染 + 修改 state 后的 re-render</li>
            <li>  style 和 className</li>
            <li>  正好符合 vdom 的应用场景</li>
        </ol>
    </div>
    <div><h4>  React.createElement 和 h</h4>
        <ol>
            <li> JSX 其实是语法糖</li><li> 开发环境会将 JSX 编译成 JS 代码</li>
            <li> JSX 的写法大大降低了学习成本和编码工作量</li>
            <li> 同时，JSX 也会增加 debug 成本</li>
        </ol>
    </div>
    <div><h4>  何时 patch ？</h4>
        <ol>
            <li> 初次渲染 - ReactDOM.render(<App/>, container)</li>
            <li> 会触发 patch(container, vnode)</li>
            <li> re-render - setState</li>
            <li> 会触发 patch(vnode, newVnode)</li>
        </ol>
    </div>
    <div><h4> 自定义组件的解析</h4>
        <ol>
            <li> ‘div’ - 直接渲染 div 即可，vdom 可以做到</li>
            <li> Input 和 List ，是自定义组件（class），vdom 默认不认识</li>
            <li> 因此 Input 和 List 定义的时候必须声明 render 函数</li>
            <li> 根据 props 初始化实例，然后执行实例的 render 函数</li>
            <li> render 函数返回的还是 vnode对象</li>
        </ol>
    </div>
</div>

</body>
</html>
