<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>运行环境-性能优化</title>
</head>
<body>
<h4>
    // 关注核心点:多使用内存、缓存或者其他方法减少cpu计算减少网络请求
</h4>
<ol>
    // 加载页面和静态资源
    <li>1,静态资源的压缩合并</li>
    <li>2,静态资源缓存(浏览器缓存)</li>
    <li>2-1,通过连接名称控制缓存</li>
    <li>2-2,只有内容改变的时候，链接名称才会改变</li>
    <li>3,使用CDN让资源加载更快</li>
    <li>4使用SSR后端渲染,数据直接输出到html中</li>
</ol>
<ol>
    // 页面渲染优化
    <li>1,css放前面JS放后面</li>
    <li>2,懒加载（图片懒加载,下拉加载更多,什么时候使用什么时候加载）</li>
    <li>3,减少DOM查询,对DOM查询做缓存,</li>
    <li>4,减少DOM操作,多个操作尽量合并在一起执行</li>
    <li>5,事件节流</li>
    <li>6,尽早执行操作</li>
</ol>
<script>
// 未缓存DOM查询
    var i
    for (i =0;i<document.getElementsByClassName('p').length;i++){
    //todo
    }
//    缓存了dom查询
    var listNode = document.getElementsByClassName('list')
    for(i=0;i<pList.length;i++){
    //todo
    }
    //合并dom操作
    var frag =document.createElement('li')
    for(var x =0; x<10;x++){
        li =document.createElement('li')
        li.innerHTML ='LIST'+x;
        frag.appendChild(frag);
    }
    listNode.appendChild(frag)
    //事件节流 按键按下按的速度比较快 当它停的时候才开始事件
    var textarea =document.getElementsById('text')
    var timeoutId
    textarea.addEventListener('keyup',function(){
        if(timeoutId){
            clearTimeout(timeoutId)
        }
        timeoutId =setTimeout(function(){
        //    todo
        },100)
    })
//    尽早操作
</script>
</body>
</html>
